[gd_scene load_steps=28 format=3 uid="uid://d26y43ovn1t2h"]

[ext_resource type="PackedScene" uid="uid://dvgf8gcq24c8" path="res://entities/entity_list/enemy_base/enemy_base.tscn" id="1_5mhhj"]
[ext_resource type="Script" uid="uid://dki5gx1nprbot" path="res://entities/entity_list/basic_enemy/basic_enemy.gd" id="2_f51gl"]
[ext_resource type="PackedScene" uid="uid://bttsg4yw6pn3t" path="res://entities/entity_list/basic_enemy/basic_enemy_animator.tscn" id="3_68gr5"]
[ext_resource type="Script" uid="uid://cwil8ikf17ctm" path="res://entities/attacks/attack_object.gd" id="3_cwsr8"]
[ext_resource type="PackedScene" uid="uid://dpcw6gj5l4iw8" path="res://entities/attacks/attack_object.tscn" id="3_u4wqx"]
[ext_resource type="Shader" uid="uid://bu0j1r4mhmlam" path="res://entities/entity_types/enemy_shader.gdshader" id="4_5sssr"]
[ext_resource type="Script" uid="uid://crcitxpfuhjux" path="res://entities/attacks/attack_effect.gd" id="4_qlgqh"]
[ext_resource type="Script" uid="uid://dyidbo7tcvvbg" path="res://entities/attacks/damage_effect.gd" id="5_fdidt"]
[ext_resource type="Shader" uid="uid://cu176yl57kqtc" path="res://effects/attack_slash.gdshader" id="7_kh8l7"]
[ext_resource type="Texture2D" uid="uid://b5lqjov4o53a3" path="res://effects/slash_alpha.png" id="8_68gr5"]
[ext_resource type="Texture2D" uid="uid://rpfpfca5w2j8" path="res://effects/slash_texture.png" id="9_k5gch"]
[ext_resource type="ArrayMesh" uid="uid://d0rnwegisvfwx" path="res://models/slash_curve.obj" id="10_5sssr"]
[ext_resource type="AnimationLibrary" uid="uid://c6ddaqnbh0i5m" path="res://entities/entity_list/basic_enemy/basic_enemy_animation_library.res" id="12_k5gch"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i6hqh"]
render_priority = 0
shader = ExtResource("4_5sssr")

[sub_resource type="Animation" id="Animation_68gr5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attacks/basic_attack/SlashCurve:instance_shader_parameters/lifetime")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.01]
}

[sub_resource type="Animation" id="Animation_kh8l7"]
resource_name = "basic_attack"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attacks/basic_attack/SlashCurve:instance_shader_parameters/lifetime")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.01, 0.99]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_68gr5"]
_data = {
&"RESET": SubResource("Animation_68gr5"),
&"basic_attack": SubResource("Animation_kh8l7")
}

[sub_resource type="Resource" id="Resource_p3v48"]
script = ExtResource("5_fdidt")
damage = 1
metadata/_custom_type_script = "uid://dyidbo7tcvvbg"

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_di55d"]
radius = 0.49218

[sub_resource type="FastNoiseLite" id="FastNoiseLite_i6hqh"]
seed = 640
frequency = 0.0238

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_4tu0t"]
width = 256
noise = SubResource("FastNoiseLite_i6hqh")

[sub_resource type="Curve" id="Curve_1tj3l"]
_data = [Vector2(0.59542, 0), 0.0, 0.0, 0, 0, Vector2(0.839695, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_4tu0t"]
texture_mode = 1
curve = SubResource("Curve_1tj3l")

[sub_resource type="Curve" id="Curve_2aeyn"]
_limits = [-1.0, 1.0, 0.0, 1.0]
_data = [Vector2(0, -1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_f3glr"]
texture_mode = 1
curve = SubResource("Curve_2aeyn")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jks58"]
render_priority = 0
shader = ExtResource("7_kh8l7")
shader_parameter/slash_texture = ExtResource("9_k5gch")
shader_parameter/slash_curve = SubResource("CurveTexture_f3glr")
shader_parameter/slash_alpha = ExtResource("8_68gr5")
shader_parameter/dissolve = SubResource("NoiseTexture2D_4tu0t")
shader_parameter/dissolve_curve = SubResource("CurveTexture_4tu0t")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cwsr8"]

[node name="BasicEnemy" node_paths=PackedStringArray("mesh", "animation_tree") instance=ExtResource("1_5mhhj")]
script = ExtResource("2_f51gl")
mesh = NodePath("placeholder_model/Rig/Skeleton3D/Mannequin")
animation_tree = NodePath("placeholder_model/AnimationTree")

[node name="placeholder_model" parent="." index="0" instance=ExtResource("3_68gr5")]

[node name="Skeleton3D" parent="placeholder_model/Rig" index="0"]
bones/1/position = Vector3(0.000193386, 0.110342, 0.730832)
bones/1/rotation = Quaternion(0.67421, -0.14968, -0.147378, 0.708038)
bones/3/rotation = Quaternion(0.0910753, -0.0412767, 0.00206146, 0.994986)
bones/4/rotation = Quaternion(0.283895, -0.113751, -0.0307794, 0.951587)
bones/5/rotation = Quaternion(-0.0631905, 0.0787384, 0.0123893, 0.994814)
bones/6/rotation = Quaternion(0.0296575, 0.168441, -0.0373283, 0.984558)
bones/7/rotation = Quaternion(-0.599503, -0.37346, -0.394205, 0.587985)
bones/8/rotation = Quaternion(-0.0435183, 0.700962, -0.41138, 0.580969)
bones/9/rotation = Quaternion(0.397154, -0.186505, 0.0910561, 0.893976)
bones/10/rotation = Quaternion(0.077367, -0.0736425, 0.0126052, 0.994199)
bones/11/rotation = Quaternion(0.0363117, 0.706177, -0.0363118, 0.706171)
bones/12/rotation = Quaternion(0.141564, -1.7602e-07, -1.33703e-07, 0.989929)
bones/13/rotation = Quaternion(0.141564, 2.13004e-08, -1.06297e-07, 0.989929)
bones/14/rotation = Quaternion(0.087965, 0.69668, -0.121004, 0.701611)
bones/15/rotation = Quaternion(0.147804, 0.000223579, 0.00149719, 0.989016)
bones/16/rotation = Quaternion(0.147805, -0.000167038, -0.00111714, 0.989016)
bones/17/rotation = Quaternion(0.197848, 0.664082, -0.242898, 0.678861)
bones/18/rotation = Quaternion(0.31183, -0.000260209, -0.000792543, 0.950138)
bones/19/rotation = Quaternion(0.311829, 0.000189964, 0.000579385, 0.950138)
bones/20/rotation = Quaternion(0.164069, 0.681535, -0.188453, 0.687806)
bones/21/rotation = Quaternion(0.24931, 2.83052e-06, 1.18568e-05, 0.968424)
bones/22/rotation = Quaternion(0.24931, -0.000265985, -0.00103354, 0.968423)
bones/23/rotation = Quaternion(0.247413, 0.945795, 0.203441, 0.0535841)
bones/24/rotation = Quaternion(0.0428612, -7.20203e-05, 5.1048e-05, 0.999081)
bones/25/rotation = Quaternion(0.0432443, 5.78303e-05, -0.000538426, 0.999064)
bones/26/rotation = Quaternion(-0.635615, 0.31049, 0.329592, 0.625267)
bones/27/rotation = Quaternion(0.191132, 0.675857, -0.517095, -0.489182)
bones/28/rotation = Quaternion(0.369359, 0.13726, -0.0552614, 0.917431)
bones/29/rotation = Quaternion(-0.0193256, 0.124086, -0.017437, 0.99193)
bones/30/rotation = Quaternion(0.44519, -0.549369, 0.445194, 0.549365)
bones/31/rotation = Quaternion(0.623341, -5.28451e-08, -6.41027e-08, 0.78195)
bones/32/rotation = Quaternion(0.623342, 6.07422e-08, -9.52821e-08, 0.78195)
bones/33/rotation = Quaternion(0.43209, -0.5387, 0.458046, 0.559727)
bones/34/rotation = Quaternion(0.623341, -0.000943434, -0.00118332, 0.781949)
bones/35/rotation = Quaternion(0.623342, 0.000704118, 0.000883103, 0.781949)
bones/36/rotation = Quaternion(0.504057, -0.511541, 0.435152, 0.543042)
bones/37/rotation = Quaternion(0.623163, 0.0200614, -0.0149256, 0.781692)
bones/38/rotation = Quaternion(0.623341, -0.000379787, -0.000476429, 0.78195)
bones/39/rotation = Quaternion(0.435339, -0.541356, 0.454904, 0.557203)
bones/40/rotation = Quaternion(0.623341, -7.94368e-06, -9.59731e-06, 0.78195)
bones/41/rotation = Quaternion(0.623341, 0.000665151, 0.000834412, 0.781949)
bones/42/rotation = Quaternion(-0.290838, 0.949649, 0.114583, -0.0212171)
bones/43/rotation = Quaternion(0.21939, -0.0238026, 0.00530508, 0.975332)
bones/44/rotation = Quaternion(0.687388, 0.000308989, 0.000444505, 0.72629)
bones/45/rotation = Quaternion(0.92144, 0.184246, -0.022717, 0.341301)
bones/46/rotation = Quaternion(0.552785, -0.0631453, 0.0420497, 0.829863)
bones/47/rotation = Quaternion(-0.63541, -0.0472337, 0.102783, 0.763844)
bones/48/rotation = Quaternion(-0.00013718, 0.964307, -0.264787, -0.000499427)
bones/49/rotation = Quaternion(0.942502, -0.300996, 0.037112, 0.140408)
bones/50/rotation = Quaternion(0.550397, 0.243461, -0.171825, 0.779914)
bones/51/rotation = Quaternion(-0.720963, -0.187353, -0.170413, 0.645035)
bones/52/rotation = Quaternion(-0.000137131, 0.964307, -0.264787, -0.000499424)

[node name="Mannequin" parent="placeholder_model/Rig/Skeleton3D" index="0"]
material_overlay = SubResource("ShaderMaterial_i6hqh")

[node name="BoneAttachment3D" parent="placeholder_model/Rig/Skeleton3D" index="1"]
transform = Transform3D(-0.345131, -0.613566, -0.710226, 0.588883, -0.730801, 0.345176, -0.730823, -0.299109, 0.613541, -0.304821, 0.89746, -0.506168)

[node name="CollisionShape3D" parent="." index="1"]
visible = false

[node name="AnimationEffects" parent="." index="3"]
libraries = {
&"": SubResource("AnimationLibrary_68gr5")
}

[node name="basic_attack" type="Node3D" parent="Attacks" index="0" node_paths=PackedStringArray("entity", "hitbox")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("3_cwsr8")
entity = NodePath("../..")
attack_effects = Array[ExtResource("4_qlgqh")]([SubResource("Resource_p3v48")])
hitbox = NodePath("AttackHitbox")

[node name="AttackHitbox" parent="Attacks/basic_attack" index="0" instance=ExtResource("3_u4wqx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
visible = false
collision_layer = 4
collision_mask = 0
monitorable = false

[node name="CollisionShape3D" parent="Attacks/basic_attack/AttackHitbox" index="0"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, -0.172851)
shape = SubResource("CapsuleShape3D_di55d")

[node name="SlashCurve" type="MeshInstance3D" parent="Attacks/basic_attack" index="1"]
transform = Transform3D(1, 0, -2.61978e-07, 0, 1, 0, -1.50996e-07, 0, -1.735, 0, 0, 0)
material_override = SubResource("ShaderMaterial_jks58")
instance_shader_parameters/lifetime = 0.01
mesh = ExtResource("10_5sssr")

[node name="Hurtbox" parent="." index="5"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_cwsr8")

[node name="ActionAnimator" parent="." index="6"]
libraries = {
&"basic_enemy_animation_library": ExtResource("12_k5gch")
}

[node name="MovementComponent" parent="Components" index="1"]
move_speed = 350.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="." index="9"]

[editable path="placeholder_model"]
[editable path="Attacks/basic_attack/AttackHitbox"]
