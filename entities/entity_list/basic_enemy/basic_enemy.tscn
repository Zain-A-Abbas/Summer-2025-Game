[gd_scene load_steps=28 format=3 uid="uid://d26y43ovn1t2h"]

[ext_resource type="PackedScene" uid="uid://dvgf8gcq24c8" path="res://entities/entity_list/enemy_base/enemy_base.tscn" id="1_5mhhj"]
[ext_resource type="Script" uid="uid://dki5gx1nprbot" path="res://entities/entity_list/basic_enemy/basic_enemy.gd" id="2_f51gl"]
[ext_resource type="PackedScene" uid="uid://bttsg4yw6pn3t" path="res://entities/entity_list/basic_enemy/basic_enemy_animator.tscn" id="3_68gr5"]
[ext_resource type="Script" uid="uid://cwil8ikf17ctm" path="res://entities/attacks/attack_object.gd" id="3_cwsr8"]
[ext_resource type="PackedScene" uid="uid://dpcw6gj5l4iw8" path="res://entities/attacks/attack_object.tscn" id="3_u4wqx"]
[ext_resource type="Shader" uid="uid://bu0j1r4mhmlam" path="res://entities/entity_types/enemy_shader.gdshader" id="4_5sssr"]
[ext_resource type="Script" uid="uid://crcitxpfuhjux" path="res://entities/attacks/attack_effect.gd" id="4_qlgqh"]
[ext_resource type="Script" uid="uid://dyidbo7tcvvbg" path="res://entities/attacks/damage_effect.gd" id="5_fdidt"]
[ext_resource type="Shader" uid="uid://cu176yl57kqtc" path="res://effects/attack_slash.gdshader" id="7_kh8l7"]
[ext_resource type="Texture2D" uid="uid://b5lqjov4o53a3" path="res://effects/slash_alpha.png" id="8_68gr5"]
[ext_resource type="Texture2D" uid="uid://rpfpfca5w2j8" path="res://effects/slash_texture.png" id="9_k5gch"]
[ext_resource type="ArrayMesh" uid="uid://d0rnwegisvfwx" path="res://models/slash_curve.obj" id="10_5sssr"]
[ext_resource type="AnimationLibrary" uid="uid://c6ddaqnbh0i5m" path="res://entities/entity_list/basic_enemy/basic_enemy_animation_library.res" id="12_k5gch"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i6hqh"]
render_priority = 0
shader = ExtResource("4_5sssr")

[sub_resource type="Animation" id="Animation_68gr5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attacks/basic_attack/SlashCurve:instance_shader_parameters/lifetime")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.01]
}

[sub_resource type="Animation" id="Animation_kh8l7"]
resource_name = "basic_attack"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Attacks/basic_attack/SlashCurve:instance_shader_parameters/lifetime")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.01, 0.99]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_68gr5"]
_data = {
&"RESET": SubResource("Animation_68gr5"),
&"basic_attack": SubResource("Animation_kh8l7")
}

[sub_resource type="Resource" id="Resource_p3v48"]
script = ExtResource("5_fdidt")
damage = 1
metadata/_custom_type_script = "uid://dyidbo7tcvvbg"

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_di55d"]
radius = 0.49218

[sub_resource type="FastNoiseLite" id="FastNoiseLite_i6hqh"]
seed = 640
frequency = 0.0238

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_4tu0t"]
width = 256
noise = SubResource("FastNoiseLite_i6hqh")

[sub_resource type="Curve" id="Curve_1tj3l"]
_data = [Vector2(0.59542, 0), 0.0, 0.0, 0, 0, Vector2(0.839695, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_4tu0t"]
texture_mode = 1
curve = SubResource("Curve_1tj3l")

[sub_resource type="Curve" id="Curve_2aeyn"]
_limits = [-1.0, 1.0, 0.0, 1.0]
_data = [Vector2(0, -1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_f3glr"]
texture_mode = 1
curve = SubResource("Curve_2aeyn")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jks58"]
render_priority = 0
shader = ExtResource("7_kh8l7")
shader_parameter/slash_texture = ExtResource("9_k5gch")
shader_parameter/slash_curve = SubResource("CurveTexture_f3glr")
shader_parameter/slash_alpha = ExtResource("8_68gr5")
shader_parameter/dissolve = SubResource("NoiseTexture2D_4tu0t")
shader_parameter/dissolve_curve = SubResource("CurveTexture_4tu0t")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cwsr8"]

[node name="BasicEnemy" node_paths=PackedStringArray("mesh", "animation_tree") instance=ExtResource("1_5mhhj")]
script = ExtResource("2_f51gl")
mesh = NodePath("placeholder_model/Rig/Skeleton3D/Mannequin")
animation_tree = NodePath("placeholder_model/AnimationTree")

[node name="placeholder_model" parent="." index="0" instance=ExtResource("3_68gr5")]

[node name="Skeleton3D" parent="placeholder_model/Rig" index="0"]
bones/1/position = Vector3(-0.0011599, 0.110322, 0.728663)
bones/1/rotation = Quaternion(0.67421, -0.14968, -0.147378, 0.708038)
bones/3/rotation = Quaternion(0.0887223, -0.0411641, 0.00169907, 0.995204)
bones/4/rotation = Quaternion(0.277031, -0.113386, -0.0318569, 0.953616)
bones/5/rotation = Quaternion(-0.0584237, 0.078549, 0.013137, 0.99511)
bones/6/rotation = Quaternion(0.0200619, 0.171934, -0.030758, 0.984424)
bones/7/rotation = Quaternion(-0.599503, -0.37346, -0.394205, 0.587985)
bones/8/rotation = Quaternion(-0.0436662, 0.701103, -0.410742, 0.581239)
bones/9/rotation = Quaternion(0.39718, -0.186247, 0.0909412, 0.89403)
bones/10/rotation = Quaternion(0.0789219, -0.0762625, 0.0114178, 0.993894)
bones/11/rotation = Quaternion(0.0366883, 0.706157, -0.0366885, 0.706152)
bones/12/rotation = Quaternion(0.142092, -1.50874e-07, 2.5786e-08, 0.989854)
bones/13/rotation = Quaternion(0.142092, 3.3307e-08, -3.33499e-07, 0.989853)
bones/14/rotation = Quaternion(0.0883395, 0.696615, -0.121376, 0.701564)
bones/15/rotation = Quaternion(0.148332, 0.000224391, 0.00149686, 0.988936)
bones/16/rotation = Quaternion(0.148332, -0.000167558, -0.00111704, 0.988937)
bones/17/rotation = Quaternion(0.19821, 0.663952, -0.243252, 0.678755)
bones/18/rotation = Quaternion(0.312337, -0.000260693, -0.000792448, 0.949971)
bones/19/rotation = Quaternion(0.312337, 0.000190237, 0.000579225, 0.949971)
bones/20/rotation = Quaternion(0.164436, 0.681434, -0.188817, 0.687719)
bones/21/rotation = Quaternion(0.249827, 2.96906e-06, 1.17214e-05, 0.968291)
bones/22/rotation = Quaternion(0.249827, -0.000266465, -0.00103314, 0.96829)
bones/23/rotation = Quaternion(0.247413, 0.945795, 0.203441, 0.0535841)
bones/24/rotation = Quaternion(0.0439286, -7.19808e-05, 5.09767e-05, 0.999035)
bones/25/rotation = Quaternion(0.044312, 5.73339e-05, -0.000538345, 0.999018)
bones/26/rotation = Quaternion(-0.635615, 0.31049, 0.329592, 0.625267)
bones/27/rotation = Quaternion(0.191132, 0.675857, -0.517095, -0.489182)
bones/28/rotation = Quaternion(0.356407, 0.138025, -0.0533236, 0.92254)
bones/29/rotation = Quaternion(-0.0268326, 0.124214, -0.0164974, 0.991755)
bones/30/rotation = Quaternion(0.44519, -0.549369, 0.445194, 0.549365)
bones/31/rotation = Quaternion(0.623341, -5.28451e-08, -6.41027e-08, 0.78195)
bones/32/rotation = Quaternion(0.623342, 6.07422e-08, -9.52821e-08, 0.78195)
bones/33/rotation = Quaternion(0.43209, -0.5387, 0.458046, 0.559727)
bones/34/rotation = Quaternion(0.623341, -0.000943434, -0.00118332, 0.781949)
bones/35/rotation = Quaternion(0.623342, 0.000704118, 0.000883103, 0.781949)
bones/36/rotation = Quaternion(0.504057, -0.511541, 0.435152, 0.543042)
bones/37/rotation = Quaternion(0.623163, 0.0200614, -0.0149256, 0.781692)
bones/38/rotation = Quaternion(0.623341, -0.000379787, -0.000476429, 0.78195)
bones/39/rotation = Quaternion(0.435339, -0.541356, 0.454904, 0.557203)
bones/40/rotation = Quaternion(0.623341, -7.94368e-06, -9.59731e-06, 0.78195)
bones/41/rotation = Quaternion(0.623341, 0.000665151, 0.000834412, 0.781949)
bones/42/rotation = Quaternion(-0.290838, 0.949649, 0.114583, -0.0212171)
bones/43/rotation = Quaternion(0.21939, -0.0238026, 0.00530508, 0.975332)
bones/44/rotation = Quaternion(0.687388, 0.000308989, 0.000444505, 0.72629)
bones/45/rotation = Quaternion(0.920486, 0.185573, -0.0228806, 0.34314)
bones/46/rotation = Quaternion(0.556636, -0.0622157, 0.0418458, 0.827366)
bones/47/rotation = Quaternion(-0.636596, -0.0471722, 0.104151, 0.762675)
bones/48/rotation = Quaternion(-0.00013718, 0.964307, -0.264787, -0.000499427)
bones/49/rotation = Quaternion(0.94213, -0.301638, 0.0371911, 0.141502)
bones/50/rotation = Quaternion(0.554757, 0.241976, -0.172759, 0.777076)
bones/51/rotation = Quaternion(-0.723042, -0.187677, -0.169849, 0.642759)
bones/52/rotation = Quaternion(-0.000137131, 0.964307, -0.264787, -0.000499424)

[node name="Mannequin" parent="placeholder_model/Rig/Skeleton3D" index="0"]
material_overlay = SubResource("ShaderMaterial_i6hqh")

[node name="BoneAttachment3D" parent="placeholder_model/Rig/Skeleton3D" index="1"]
transform = Transform3D(-0.335624, -0.595103, -0.730212, 0.587798, -0.73805, 0.331324, -0.736105, -0.318017, 0.597508, -0.304956, 0.892071, -0.508653)

[node name="CollisionShape3D" parent="." index="1"]
visible = false

[node name="AnimationEffects" parent="." index="3"]
libraries = {
&"": SubResource("AnimationLibrary_68gr5")
}

[node name="basic_attack" type="Node3D" parent="Attacks" index="0" node_paths=PackedStringArray("entity", "hitbox")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("3_cwsr8")
entity = NodePath("../..")
attack_effects = Array[ExtResource("4_qlgqh")]([SubResource("Resource_p3v48")])
hitbox = NodePath("AttackHitbox")

[node name="AttackHitbox" parent="Attacks/basic_attack" index="0" instance=ExtResource("3_u4wqx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
visible = false
collision_layer = 4
collision_mask = 0
monitorable = false

[node name="CollisionShape3D" parent="Attacks/basic_attack/AttackHitbox" index="0"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 0, 0, -0.172851)
shape = SubResource("CapsuleShape3D_di55d")

[node name="SlashCurve" type="MeshInstance3D" parent="Attacks/basic_attack" index="1"]
transform = Transform3D(1, 0, -2.61978e-07, 0, 1, 0, -1.50996e-07, 0, -1.735, 0, 0, 0)
material_override = SubResource("ShaderMaterial_jks58")
instance_shader_parameters/lifetime = 0.01
mesh = ExtResource("10_5sssr")

[node name="Hurtbox" parent="." index="5"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_cwsr8")

[node name="ActionAnimator" parent="." index="6"]
libraries = {
&"basic_enemy_animation_library": ExtResource("12_k5gch")
}

[node name="MovementComponent" parent="Components" index="1"]
move_speed = 350.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="." index="9"]

[editable path="placeholder_model"]
[editable path="Attacks/basic_attack/AttackHitbox"]
